{
  "schema": {
    "definitions": {
      "services" : {
        "title": "Szolgáltatás",
        "ui:widget": {
          "options": {
            "discriminatorMap": [
              {
                "value": "accomodation",
                "name": "Szállás"
              },
              {
                "value": "wellnes",
                "name": "Pihentető szolgáltatás (Wellnes)"
              },
              {
                "value": "horseriding",
                "name": "Lovaglás"
              }
            ]
          }
        },

        "anyOf": [
          {
            "$ref": "#/definitions/service-accomodation"
          },
          {
            "$ref": "#/definitions/service-wellness"
          },
          {
            "$ref": "#/definitions/service-horseriding"
          }
        ]
      },
      "service-common-props": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "title": "Szolgáltatás neve"
          }
        },
        "required": [
          "name"
        ]
      },
      "service-accomodation-props": {
        "type": "object",
        "properties": {
          "serviceType": {
            "title": "Szolgáltatás típusa",
            "type": "string",
            "enum": [
              "accomodation"
            ]
          },
          "roomNum": {
            "type": "number"
          }
        },
        "required": [
          "roomNum"
        ]
      },
      "service-wellness-props": {
        "type": "object",
        "properties": {
          "serviceType": {
            "title": "Szolgáltatás típusa",
            "type": "string",
            "enum": [
              "wellnes"
            ]
          },
          "poolNum": {
            "type": "number"
          }
        },
        "required": [
          "poolNum"
        ]
      },
      "service-horseriding-props": {
        "type": "object",
        "properties": {
          "serviceType": {
            "title": "Szolgáltatás típusa",
            "type": "string",
            "enum": [
              "horseriding"
            ]
          },
          "riding_type": {
            "title": "Lovas szolgáltatás típusa",
            "type": "string",
            "enum": ["country", "field", "show"],
            "ui:widget": {
              "options": {
                "titleMap": [
                  {
                    "value": "country",
                    "name": "Terep"
                  },
                  {
                    "value": "field",
                    "name": "Pálya"
                  },
                  {
                    "value": "show",
                    "name": "Bemutató"
                  }
                ]
              }
            }
          }
        }
      },
      "service-accomodation": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/definitions/service-common-props"
          },
          {
            "$ref": "#/definitions/service-accomodation-props"
          }
        ]
      },
      "service-horseriding": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/definitions/service-common-props"
          },
          {
            "$ref": "#/definitions/service-horseriding-props"
          }
        ]
      },
      "service-wellness": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/definitions/service-common-props"
          },
          {
            "$ref": "#/definitions/service-wellness-props"
          }
        ]
      }
    },
    "type": "object",
    "properties": {
      "name": {
        "title": "Név",
        "type": "string"
      },
      "services": {
        "title": "Szolgáltatások",
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "title": {
              "title": "Megnevezés",
              "type": "string"
            },
            "description": {
              "$ref": "#/definitions/services"
            }
          }
        }
      }
    }
  }
}